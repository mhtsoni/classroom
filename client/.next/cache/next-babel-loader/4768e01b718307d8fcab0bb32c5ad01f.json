{"ast":null,"code":"var _jsxFileName = \"E:\\\\React and Redux\\\\Practice\\\\HomeTuitionManager\\\\home-tuitions\\\\src\\\\components\\\\LoginForm\\\\index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport '../../../pages/node_modules/antd/dist/antd.css';\nimport { Input, Alert } from 'antd';\nimport { LoginWrapper } from './index.style';\nimport { submit, passChange, empIdChange } from './states/actions';\nimport axios from 'axios';\n\nfunction LoginForm(props) {\n  _s();\n\n  const {\n    0: error,\n    1: setError\n  } = useState(null);\n\n  const Submit = async e => {\n    e.preventDefault();\n    axios.post('http://localhost:3030/api/users', {\n      \"employee_id\": props.employee_id,\n      \"password\": props.password\n    }).then(res => {\n      if (res.data.name) {\n        localStorage.setItem('LoggedIn', true);\n        localStorage.setItem('UserName', res.data.name);\n        localStorage.setItem('employee_id', res.data.employee_id);\n        props.handleSubmit();\n        setError(null);\n      } else if (res.data) {\n        setError(res.data);\n      }\n    }).catch(err => {\n      console.log(err.message);\n    });\n  };\n\n  return __jsx(LoginWrapper, {\n    title: \"LogIn\",\n    style: {\n      width: 300\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, error && __jsx(Alert, {\n    message: error,\n    type: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }), __jsx(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, __jsx(Input, {\n    className: \"inp\",\n    type: \"text\",\n    onChange: e => props.handleEmpIdChange(e),\n    placeholder: \"Employee Id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 21\n    }\n  }), __jsx(Input, {\n    className: \"inp\",\n    type: \"text\",\n    onChange: e => props.handlePassChange(e),\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }\n  }), __jsx(Input, {\n    type: \"submit\",\n    value: \"Log In\",\n    onClick: e => Submit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 21\n    }\n  })));\n}\n\n_s(LoginForm, \"cd9/LsmS9ZuUlTxyBu/BHd4YUWs=\");\n\n_c = LoginForm;\n\nconst mapStateToProps = state => {\n  return {\n    employee_id: state.employee_id,\n    password: state.password,\n    login: state.login,\n    userName: state.userName\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleEmpIdChange: e => dispatch(empIdChange(e)),\n    handlePassChange: e => dispatch(passChange(e)),\n    handleSubmit: () => dispatch(submit())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm);\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["E:/React and Redux/Practice/HomeTuitionManager/home-tuitions/src/components/LoginForm/index.js"],"names":["React","useState","connect","Input","Alert","LoginWrapper","submit","passChange","empIdChange","axios","LoginForm","props","error","setError","Submit","e","preventDefault","post","employee_id","password","then","res","data","name","localStorage","setItem","handleSubmit","catch","err","console","log","message","width","handleEmpIdChange","handlePassChange","mapStateToProps","state","login","userName","mapDispatchToProps","dispatch"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAO,gDAAP;AACA,SAAQC,KAAR,EAAcC,KAAd,QAA2B,MAA3B;AACA,SAAQC,YAAR,QAA2B,eAA3B;AACA,SAAQC,MAAR,EAAeC,UAAf,EAA0BC,WAA1B,QAA4C,kBAA5C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAAA;;AACtB,QAAM;AAAA,OAACC,KAAD;AAAA,OAAOC;AAAP,MAAmBZ,QAAQ,CAAC,IAAD,CAAjC;;AACI,QAAMa,MAAM,GAAG,MAAOC,CAAP,IAAW;AACtBA,IAAAA,CAAC,CAACC,cAAF;AACAP,IAAAA,KAAK,CAACQ,IAAN,CAAW,iCAAX,EAA6C;AAAC,qBAAeN,KAAK,CAACO,WAAtB;AAAmC,kBAAaP,KAAK,CAACQ;AAAtD,KAA7C,EACKC,IADL,CACUC,GAAG,IAAI;AACT,UAAGA,GAAG,CAACC,IAAJ,CAASC,IAAZ,EAAiB;AACbC,QAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAgC,IAAhC;AACAD,QAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAgCJ,GAAG,CAACC,IAAJ,CAASC,IAAzC;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAmCJ,GAAG,CAACC,IAAJ,CAASJ,WAA5C;AACAP,QAAAA,KAAK,CAACe,YAAN;AACAb,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACH,OAND,MAOK,IAAGQ,GAAG,CAACC,IAAP,EAAY;AACbT,QAAAA,QAAQ,CAACQ,GAAG,CAACC,IAAL,CAAR;AACH;AACJ,KAZL,EAaKK,KAbL,CAaWC,GAAG,IAAE;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB;AACH,KAfL;AAgBH,GAlBD;;AAmBA,SACI,MAAC,YAAD;AAAc,IAAA,KAAK,EAAC,OAApB;AAA4B,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKpB,KAAK,IACN,MAAC,KAAD;AAAO,IAAA,OAAO,EAAEA,KAAhB;AAAuB,IAAA,IAAI,EAAC,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,KAAD;AAAO,IAAA,SAAS,EAAC,KAAjB;AAAuB,IAAA,IAAI,EAAC,MAA5B;AAAmC,IAAA,QAAQ,EAAGG,CAAD,IAAKJ,KAAK,CAACsB,iBAAN,CAAwBlB,CAAxB,CAAlD;AAA8E,IAAA,WAAW,EAAC,aAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,MAAC,KAAD;AAAO,IAAA,SAAS,EAAC,KAAjB;AAAuB,IAAA,IAAI,EAAC,MAA5B;AAAmC,IAAA,QAAQ,EAAGA,CAAD,IAAKJ,KAAK,CAACuB,gBAAN,CAAuBnB,CAAvB,CAAlD;AAA6E,IAAA,WAAW,EAAC,UAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI,MAAC,KAAD;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,QAA3B;AAAoC,IAAA,OAAO,EAAGA,CAAD,IAAKD,MAAM,CAACC,CAAD,CAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CAHJ,CADJ;AAWP;;GAhCQL,S;;KAAAA,S;;AAiCT,MAAMyB,eAAe,GAAIC,KAAD,IAAU;AAC9B,SAAO;AACHlB,IAAAA,WAAW,EAAGkB,KAAK,CAAClB,WADjB;AAEHC,IAAAA,QAAQ,EAAGiB,KAAK,CAACjB,QAFd;AAGHkB,IAAAA,KAAK,EAAGD,KAAK,CAACC,KAHX;AAIHC,IAAAA,QAAQ,EAAGF,KAAK,CAACE;AAJd,GAAP;AAMH,CAPD;;AAQA,MAAMC,kBAAkB,GAAIC,QAAD,IAAa;AACpC,SAAO;AACHP,IAAAA,iBAAiB,EAAIlB,CAAD,IAAKyB,QAAQ,CAAChC,WAAW,CAACO,CAAD,CAAZ,CAD9B;AAEHmB,IAAAA,gBAAgB,EAAInB,CAAD,IAAKyB,QAAQ,CAACjC,UAAU,CAACQ,CAAD,CAAX,CAF7B;AAGHW,IAAAA,YAAY,EAAG,MAAIc,QAAQ,CAAClC,MAAM,EAAP;AAHxB,GAAP;AAKH,CAND;;AAQA,eAAeJ,OAAO,CAACiC,eAAD,EAAiBI,kBAAjB,CAAP,CAA4C7B,SAA5C,CAAf","sourcesContent":["import React,{useState} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport '../../../pages/node_modules/antd/dist/antd.css';\r\nimport {Input,Alert } from 'antd';\r\nimport {LoginWrapper} from './index.style'\r\nimport {submit,passChange,empIdChange} from './states/actions'\r\nimport axios from 'axios'\r\nfunction LoginForm(props) {\r\n    const [error,setError] = useState(null)\r\n        const Submit = async (e)=>{\r\n            e.preventDefault();\r\n            axios.post('http://localhost:3030/api/users',{\"employee_id\": props.employee_id, \"password\" : props.password})\r\n                .then(res => {\r\n                    if(res.data.name){\r\n                        localStorage.setItem('LoggedIn',true)\r\n                        localStorage.setItem('UserName',res.data.name)\r\n                        localStorage.setItem('employee_id',res.data.employee_id)\r\n                        props.handleSubmit()\r\n                        setError(null)\r\n                    }\r\n                    else if(res.data){\r\n                        setError(res.data)\r\n                    }\r\n                })\r\n                .catch(err=>{\r\n                    console.log(err.message)\r\n                })\r\n        }\r\n        return (\r\n            <LoginWrapper title=\"LogIn\" style={{ width: 300 }}>\r\n                {error && \r\n                <Alert message={error} type=\"error\" />}\r\n                <form>\r\n                    <Input className='inp' type=\"text\" onChange={(e)=>props.handleEmpIdChange(e)} placeholder='Employee Id'/>\r\n                    <Input className='inp' type=\"text\" onChange={(e)=>props.handlePassChange(e)} placeholder='Password'/>\r\n                    <Input type='submit' value=\"Log In\" onClick={(e)=>Submit(e)}/>\r\n                </form>\r\n            </LoginWrapper>\r\n        )\r\n}\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n        employee_id : state.employee_id,\r\n        password : state.password,\r\n        login : state.login,\r\n        userName : state.userName\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return {\r\n        handleEmpIdChange : (e)=>dispatch(empIdChange(e)),\r\n        handlePassChange : (e)=>dispatch(passChange(e)),\r\n        handleSubmit : ()=>dispatch(submit())\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(LoginForm)\r\n"]},"metadata":{},"sourceType":"module"}